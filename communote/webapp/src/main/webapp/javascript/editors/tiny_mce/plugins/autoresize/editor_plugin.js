(function(){tinymce.create('tinymce.plugins.AutoResizePlugin',{init:function(ed,url){var t=this,oldSize=0;if(ed.getParam('fullscreen_is_enabled'))return;function resize(){var deltaSize,d=ed.getDoc(),body=d.body,de=d.documentElement,DOM=tinymce.DOM,resizeHeight=t.autoresize_min_height,myHeight;myHeight=tinymce.isIE&&!tinymce.isIE11?body.scrollHeight:(tinymce.isWebKit&&body.clientHeight==0?0:body.offsetHeight);if(myHeight>t.autoresize_min_height)resizeHeight=myHeight;if(t.autoresize_max_height&&myHeight>t.autoresize_max_height){resizeHeight=t.autoresize_max_height;body.style.overflowY="";de.style.overflowY=""}else{body.style.overflowY="hidden";de.style.overflowY="hidden";body.scrollTop=0}if(resizeHeight!==oldSize){deltaSize=resizeHeight-oldSize;DOM.setStyle(DOM.get(ed.id+'_ifr'),'height',resizeHeight+'px');oldSize=resizeHeight;if(tinymce.isWebKit&&deltaSize<0)resize()}};t.editor=ed;t.autoresize_min_height=parseInt(ed.getParam('autoresize_min_height',ed.getElement().offsetHeight));t.autoresize_max_height=parseInt(ed.getParam('autoresize_max_height',0));ed.onInit.add(function(ed){ed.dom.setStyle(ed.getBody(),'paddingBottom',ed.getParam('autoresize_bottom_margin',50)+'px')});ed.onChange.add(resize);ed.onSetContent.add(resize);ed.onPaste.add(resize);ed.onKeyUp.add(resize);ed.onPostRender.add(resize);if(ed.getParam('autoresize_on_init',true)){ed.onLoad.add(resize);ed.onLoadContent.add(resize)}ed.addCommand('mceAutoResize',resize)},getInfo:function(){return{longname:'Auto Resize',author:'Moxiecode Systems AB',authorurl:'http://tinymce.moxiecode.com',infourl:'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autoresize',version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add('autoresize',tinymce.plugins.AutoResizePlugin)})();